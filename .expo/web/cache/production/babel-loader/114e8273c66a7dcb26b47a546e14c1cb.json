{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import{createStore,applyMiddleware}from\"redux\";import ThunkMiddleware from\"redux-thunk\";import{db}from\"../firebase\";import{collection,onSnapshot,query,where}from\"firebase/firestore\";var initialState={};var GET_SINGLEPOST=\"GET_SINGLEPOST\";var getPost=function getPost(post){return{type:GET_SINGLEPOST,post:post};};export var get_Post=function get_Post(user){return function(){var _ref=_asyncToGenerator(function*(dispatch){var unsbuscribe=onSnapshot(query(collection(db,\"Post\"),where(\"createAt\",\"==\",user.createAt)),function(snapshot){return dispatch(getPost(snapshot.docs[0].data()));});return unsbuscribe;});return function(_x){return _ref.apply(this,arguments);};}();};var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case GET_SINGLEPOST:return action;default:return state;}};export var store=createStore(reducer,applyMiddleware(ThunkMiddleware));","map":{"version":3,"names":["createStore","applyMiddleware","ThunkMiddleware","db","collection","onSnapshot","query","where","initialState","GET_SINGLEPOST","getPost","post","type","get_Post","user","dispatch","unsbuscribe","createAt","snapshot","docs","data","reducer","state","action","store"],"sources":["C:/Users/16476/Documents/GitHub/Haven/redux/index.js"],"sourcesContent":["import { createStore, applyMiddleware } from \"redux\";\r\nimport ThunkMiddleware from \"redux-thunk\";\r\nimport { db } from \"../firebase\";\r\nimport { collection, onSnapshot, query, where } from \"firebase/firestore\";\r\n// initial State\r\nconst initialState = {};\r\n\r\nconst GET_SINGLEPOST = \"GET_SINGLEPOST\";\r\n\r\nconst getPost = (post) => ({\r\n  type: GET_SINGLEPOST,\r\n  post,\r\n});\r\n\r\nexport const get_Post = (user) => {\r\n  return async (dispatch) => {\r\n    const unsbuscribe = onSnapshot(\r\n      query(collection(db, \"Post\"), where(\"createAt\", \"==\", user.createAt)),\r\n      (snapshot) =>\r\n        // console.log('------------------------------------',snapshot.docs[0].data())\r\n        dispatch(getPost(snapshot.docs[0].data()))\r\n    );\r\n    return unsbuscribe;\r\n  };\r\n};\r\n// Reducer\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_SINGLEPOST:\r\n      return action;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// Store\r\nexport const store = createStore(reducer, applyMiddleware(ThunkMiddleware));"],"mappings":"uEAAA,OAASA,WAAT,CAAsBC,eAAtB,KAA6C,OAA7C,CACA,MAAOC,gBAAP,KAA4B,aAA5B,CACA,OAASC,EAAT,mBACA,OAASC,UAAT,CAAqBC,UAArB,CAAiCC,KAAjC,CAAwCC,KAAxC,KAAqD,oBAArD,CAEA,GAAMC,aAAY,CAAG,EAArB,CAEA,GAAMC,eAAc,CAAG,gBAAvB,CAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,CAACC,IAAD,QAAW,CACzBC,IAAI,CAAEH,cADmB,CAEzBE,IAAI,CAAJA,IAFyB,CAAX,EAAhB,CAKA,MAAO,IAAME,SAAQ,CAAG,QAAXA,SAAW,CAACC,IAAD,CAAU,CAChC,6CAAO,UAAOC,QAAP,CAAoB,CACzB,GAAMC,YAAW,CAAGX,UAAU,CAC5BC,KAAK,CAACF,UAAU,CAACD,EAAD,CAAK,MAAL,CAAX,CAAyBI,KAAK,CAAC,UAAD,CAAa,IAAb,CAAmBO,IAAI,CAACG,QAAxB,CAA9B,CADuB,CAE5B,SAACC,QAAD,QAEEH,SAAQ,CAACL,OAAO,CAACQ,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBC,IAAjB,EAAD,CAAR,CAFV,EAF4B,CAA9B,CAMA,MAAOJ,YAAP,CACD,CARD,8DASD,CAVM,CAYP,GAAMK,QAAO,CAAG,QAAVA,QAAU,EAAkC,IAAjCC,MAAiC,2DAAzBd,YAAyB,IAAXe,OAAW,2CAChD,OAAQA,MAAM,CAACX,IAAf,EACE,IAAKH,eAAL,CACE,MAAOc,OAAP,CACF,QACE,MAAOD,MAAP,CAJJ,CAMD,CAPD,CAUA,MAAO,IAAME,MAAK,CAAGxB,WAAW,CAACqB,OAAD,CAAUpB,eAAe,CAACC,eAAD,CAAzB,CAAzB"},"metadata":{},"sourceType":"module"}