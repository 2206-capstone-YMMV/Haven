{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { auth } from \"../firebase\";\nimport { db } from \"../firebase\";\nimport { collection, onSnapshot, query, where, getDocs } from 'firebase/firestore';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function MessagesTab(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      people = _useState2[0],\n      setPeople = _useState2[1];\n\n  useEffect(function () {\n    var conversations = route.params.conversations;\n    var talking = [];\n    conversations.forEach(function (convo) {\n      talking.push(convo.user);\n      talking.push(convo.otherUser);\n    });\n\n    if (talking.length > 0) {\n      getDocs(query(collection(db, 'users'), where('uid', 'not-in', talking))).then(function (users) {\n        return setPeople(users.docs.map(function (user) {\n          return user.data();\n        }));\n      });\n    }\n  });\n  return _jsx(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    children: people.map(function (person, index) {\n      return _jsx(Text, {\n        children: person.name\n      }, index);\n    })\n  });\n}","map":{"version":3,"names":["React","useEffect","useState","auth","db","collection","onSnapshot","query","where","getDocs","MessagesTab","navigation","route","people","setPeople","conversations","params","talking","forEach","convo","push","user","otherUser","length","then","users","docs","map","data","flex","alignItems","justifyContent","person","index","name"],"sources":["C:/Users/16476/Documents/GitHub/Haven/screens/StartConversation.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Text, View } from \"react-native\";\r\nimport { auth } from '../firebase'\r\nimport { db } from '../firebase'\r\nimport { collection, onSnapshot, query, where, getDocs } from 'firebase/firestore' \r\n\r\nexport default function MessagesTab({ navigation, route }) {\r\n    \r\n    \r\n\r\n    const [people, setPeople] = useState([])\r\n    \r\n    useEffect(\r\n        () => {\r\n            let { conversations } = route.params\r\n            let talking = []\r\n            conversations.forEach(convo => {\r\n                talking.push(convo.user)\r\n                talking.push(convo.otherUser)\r\n            })\r\n            if (talking.length > 0){\r\n                getDocs(query(collection(db, 'users'), where('uid', 'not-in', talking)))\r\n                .then(users => setPeople(users.docs.map(user => user.data())))\r\n            }\r\n          })\r\n    \r\n    return (\r\n        <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center'}}>\r\n            {people.map((person,index) => <Text key={index}>{person.name}</Text>)}\r\n        </View>\r\n    )\r\n}"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;;AAEA,SAASC,IAAT;AACA,SAASC,EAAT;AACA,SAASC,UAAT,EAAqBC,UAArB,EAAiCC,KAAjC,EAAwCC,KAAxC,EAA+CC,OAA/C,QAA8D,oBAA9D;;AAEA,eAAe,SAASC,WAAT,OAA4C;EAAA,IAArBC,UAAqB,QAArBA,UAAqB;EAAA,IAATC,KAAS,QAATA,KAAS;;EAIvD,gBAA4BV,QAAQ,CAAC,EAAD,CAApC;EAAA;EAAA,IAAOW,MAAP;EAAA,IAAeC,SAAf;;EAEAb,SAAS,CACL,YAAM;IACF,IAAMc,aAAN,GAAwBH,KAAK,CAACI,MAA9B,CAAMD,aAAN;IACA,IAAIE,OAAO,GAAG,EAAd;IACAF,aAAa,CAACG,OAAd,CAAsB,UAAAC,KAAK,EAAI;MAC3BF,OAAO,CAACG,IAAR,CAAaD,KAAK,CAACE,IAAnB;MACAJ,OAAO,CAACG,IAAR,CAAaD,KAAK,CAACG,SAAnB;IACH,CAHD;;IAIA,IAAIL,OAAO,CAACM,MAAR,GAAiB,CAArB,EAAuB;MACnBd,OAAO,CAACF,KAAK,CAACF,UAAU,CAACD,EAAD,EAAK,OAAL,CAAX,EAA0BI,KAAK,CAAC,KAAD,EAAQ,QAAR,EAAkBS,OAAlB,CAA/B,CAAN,CAAP,CACCO,IADD,CACM,UAAAC,KAAK;QAAA,OAAIX,SAAS,CAACW,KAAK,CAACC,IAAN,CAAWC,GAAX,CAAe,UAAAN,IAAI;UAAA,OAAIA,IAAI,CAACO,IAAL,EAAJ;QAAA,CAAnB,CAAD,CAAb;MAAA,CADX;IAEH;EACF,CAZE,CAAT;EAcA,OACI,KAAC,IAAD;IAAM,KAAK,EAAE;MAAEC,IAAI,EAAE,CAAR;MAAWC,UAAU,EAAE,QAAvB;MAAiCC,cAAc,EAAE;IAAjD,CAAb;IAAA,UACKlB,MAAM,CAACc,GAAP,CAAW,UAACK,MAAD,EAAQC,KAAR;MAAA,OAAkB,KAAC,IAAD;QAAA,UAAmBD,MAAM,CAACE;MAA1B,GAAWD,KAAX,CAAlB;IAAA,CAAX;EADL,EADJ;AAKH"},"metadata":{},"sourceType":"module"}