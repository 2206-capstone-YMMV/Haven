{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { auth } from \"../firebase\";\nimport { db } from \"../firebase\";\nimport { collection, onSnapshot, query, where } from 'firebase/firestore';\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function MessagesTab() {\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      conversations = _useState2[0],\n      setConversations = _useState2[1];\n\n  useEffect(function () {\n    var _auth$currentUser;\n\n    return onSnapshot(query(collection(db, 'Conversations'), where('user', '==', (_auth$currentUser = auth.currentUser) == null ? void 0 : _auth$currentUser.uid)), function (snapshot) {\n      return setConversations(snapshot.docs.map(function (convo) {\n        return convo.data();\n      }));\n    });\n  }, []);\n  console.log(conversations);\n  return _jsx(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    children: conversations.map(function (convo) {\n      return _jsxs(Text, {\n        children: [\"Conversation with \", convo.otherUser]\n      });\n    })\n  });\n}","map":{"version":3,"names":["React","useEffect","useState","auth","db","collection","onSnapshot","query","where","MessagesTab","conversations","setConversations","currentUser","uid","snapshot","docs","map","convo","data","console","log","flex","alignItems","justifyContent","otherUser"],"sources":["C:/Users/16476/Documents/GitHub/Haven/screens/MessagesTab.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Text, View } from \"react-native\";\r\nimport { auth } from '../firebase'\r\nimport { db } from '../firebase'\r\nimport { collection, onSnapshot, query, where } from 'firebase/firestore' \r\n\r\nexport default function MessagesTab() {\r\n    const [conversations, setConversations] = useState({})\r\n    useEffect(\r\n        () => \r\n            onSnapshot(query(collection(db, 'Conversations'), where('user', '==', auth.currentUser?.uid)), (snapshot) =>\r\n            setConversations(snapshot.docs.map(convo => {\r\n                return convo.data()\r\n            }))\r\n            )\r\n    ,[])\r\nconsole.log(conversations)\r\n    return (\r\n        <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center'}}>\r\n            {conversations.map(convo => <Text>Conversation with {convo.otherUser}</Text>)}\r\n        </View>\r\n    )\r\n}"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;;AAEA,SAASC,IAAT;AACA,SAASC,EAAT;AACA,SAASC,UAAT,EAAqBC,UAArB,EAAiCC,KAAjC,EAAwCC,KAAxC,QAAqD,oBAArD;;;AAEA,eAAe,SAASC,WAAT,GAAuB;EAClC,gBAA0CP,QAAQ,CAAC,EAAD,CAAlD;EAAA;EAAA,IAAOQ,aAAP;EAAA,IAAsBC,gBAAtB;;EACAV,SAAS,CACL;IAAA;;IAAA,OACIK,UAAU,CAACC,KAAK,CAACF,UAAU,CAACD,EAAD,EAAK,eAAL,CAAX,EAAkCI,KAAK,CAAC,MAAD,EAAS,IAAT,uBAAeL,IAAI,CAACS,WAApB,qBAAe,kBAAkBC,GAAjC,CAAvC,CAAN,EAAqF,UAACC,QAAD;MAAA,OAC/FH,gBAAgB,CAACG,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,UAAAC,KAAK,EAAI;QACxC,OAAOA,KAAK,CAACC,IAAN,EAAP;MACH,CAFgB,CAAD,CAD+E;IAAA,CAArF,CADd;EAAA,CADK,EAOR,EAPQ,CAAT;EAQJC,OAAO,CAACC,GAAR,CAAYV,aAAZ;EACI,OACI,KAAC,IAAD;IAAM,KAAK,EAAE;MAAEW,IAAI,EAAE,CAAR;MAAWC,UAAU,EAAE,QAAvB;MAAiCC,cAAc,EAAE;IAAjD,CAAb;IAAA,UACKb,aAAa,CAACM,GAAd,CAAkB,UAAAC,KAAK;MAAA,OAAI,MAAC,IAAD;QAAA,iCAAyBA,KAAK,CAACO,SAA/B;MAAA,EAAJ;IAAA,CAAvB;EADL,EADJ;AAKH"},"metadata":{},"sourceType":"module"}