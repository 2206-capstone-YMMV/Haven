{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { StatusBar } from \"expo-status-bar\";\nimport * as React from \"react\";\nimport MapView, { Marker, Callout } from \"react-native-maps\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport * as Location from \"expo-location\";\nimport { db } from \"../firebase\";\nimport { auth } from \"../firebase\";\nimport { collection, query, where, doc, addDoc, deleteDoc, GeoPoint, onSnapshot } from \"firebase/firestore\";\nimport { useNavigation } from \"@react-navigation/core\";\nimport MaterialCommunityIcons from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport { connect } from \"react-redux\";\nimport { get_Post } from \"../redux\";\nimport DropDownPicker from \"react-native-dropdown-picker\";\nimport DateTimePicker from '@react-native-community/datetimepicker';\nimport Gifs from \"../gifs/gifs\";\nimport RNDateTimePicker from \"@react-native-community/datetimepicker\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\n\nvar _Dimensions$get = Dimensions.get(\"window\"),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nvar CARD_HEIGHT = 220;\nvar CARD_WIDTH = width * 0.8;\n\nvar MapScreen = function MapScreen(props) {\n  var navigation = useNavigation();\n\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      markers = _React$useState2[0],\n      setMarkers = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      location = _React$useState4[0],\n      setLocation = _React$useState4[1];\n\n  var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      errorMsg = _React$useState6[0],\n      setErrorMsg = _React$useState6[1];\n\n  var _React$useState7 = React.useState([]),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      marked = _React$useState8[0],\n      setMarked = _React$useState8[1];\n\n  var _React$useState9 = React.useState([]),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      post = _React$useState10[0],\n      setPost = _React$useState10[1];\n\n  var _React$useState11 = React.useState(false),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      isVis = _React$useState12[0],\n      setIsVis = _React$useState12[1];\n\n  var _React$useState13 = React.useState(\"\"),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      title = _React$useState14[0],\n      setTitle = _React$useState14[1];\n\n  var _React$useState15 = React.useState(\"\"),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      content = _React$useState16[0],\n      setContent = _React$useState16[1];\n\n  var _React$useState17 = React.useState(false),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      open = _React$useState18[0],\n      setOpen = _React$useState18[1];\n\n  var _React$useState19 = React.useState(false),\n      _React$useState20 = _slicedToArray(_React$useState19, 2),\n      gifOpen = _React$useState20[0],\n      setGifOpen = _React$useState20[1];\n\n  var _React$useState21 = React.useState(false),\n      _React$useState22 = _slicedToArray(_React$useState21, 2),\n      eventOpen = _React$useState22[0],\n      setEventOpen = _React$useState22[1];\n\n  var _React$useState23 = React.useState(null),\n      _React$useState24 = _slicedToArray(_React$useState23, 2),\n      value = _React$useState24[0],\n      setValue = _React$useState24[1];\n\n  var _React$useState25 = React.useState(null),\n      _React$useState26 = _slicedToArray(_React$useState25, 2),\n      gifValue = _React$useState26[0],\n      setGifValue = _React$useState26[1];\n\n  var _React$useState27 = React.useState(false),\n      _React$useState28 = _slicedToArray(_React$useState27, 2),\n      eventValue = _React$useState28[0],\n      setEventValue = _React$useState28[1];\n\n  var _React$useState29 = React.useState([{\n    label: \"Food\",\n    value: \"food\"\n  }, {\n    label: \"Clothing\",\n    value: \"clothing\"\n  }, {\n    label: \"Shelter\",\n    value: \"shelter\"\n  }, {\n    label: \"Items\",\n    value: \"items\"\n  }]),\n      _React$useState30 = _slicedToArray(_React$useState29, 2),\n      items = _React$useState30[0],\n      setItems = _React$useState30[1];\n\n  var gifs = [];\n\n  for (var key in Gifs) {\n    gifs.push({\n      label: key,\n      value: key\n    });\n  }\n\n  var _React$useState31 = React.useState(gifs),\n      _React$useState32 = _slicedToArray(_React$useState31, 2),\n      gifItems = _React$useState32[0],\n      setGifItems = _React$useState32[1];\n\n  var _React$useState33 = React.useState([{\n    label: \"Is Event\",\n    value: true\n  }, {\n    label: \"Is Location\",\n    value: false\n  }]),\n      _React$useState34 = _slicedToArray(_React$useState33, 2),\n      eventItems = _React$useState34[0],\n      setEventItems = _React$useState34[1];\n\n  var _React$useState35 = React.useState(new Date()),\n      _React$useState36 = _slicedToArray(_React$useState35, 2),\n      date = _React$useState36[0],\n      setDate = _React$useState36[1];\n\n  var _React$useState37 = React.useState(null),\n      _React$useState38 = _slicedToArray(_React$useState37, 2),\n      user = _React$useState38[0],\n      setUser = _React$useState38[1];\n\n  var colRef = collection(db, \"Post\");\n  var locationCollectionRef = collection(db, \"location\");\n  React.useEffect(function () {\n    _asyncToGenerator(function* () {\n      var _yield$Location$reque = yield Location.requestForegroundPermissionsAsync(),\n          status = _yield$Location$reque.status;\n\n      if (status !== \"granted\") {\n        setErrorMsg(\"Permission to access location was denied\");\n        return;\n      }\n\n      var location = yield Location.getCurrentPositionAsync({});\n      setLocation(location);\n    })();\n  }, []);\n  React.useEffect(function () {\n    return onSnapshot(locationCollectionRef, function (snapshot) {\n      return setMarkers(snapshot.docs.map(function (docu) {\n        var date = docu.data().date;\n\n        if (date && date.seconds < Date.now() / 1000) {\n          console.log(\"deleting event\");\n          deleteDoc(doc(db, 'location', docu.id));\n        }\n\n        return _objectSpread(_objectSpread({}, docu.data()), {}, {\n          id: docu.id\n        });\n      }));\n    });\n  }, []);\n  React.useEffect(function () {\n    return onSnapshot(colRef, function (snapshot) {\n      return setPost(snapshot.docs.map(function (doc) {\n        return _objectSpread(_objectSpread({}, doc.data()), {}, {\n          id: doc.id\n        });\n      }));\n    });\n  }, []);\n  React.useEffect(function () {\n    var _auth$currentUser;\n\n    return onSnapshot(collection(db, \"users\"), where(\"uid\", \"==\", (_auth$currentUser = auth.currentUser) == null ? void 0 : _auth$currentUser.uid), function (snapshot) {\n      return console.log(snapshot.docs[0].data().role, snapshot.id);\n    });\n  }, []);\n\n  var mapMarker = function mapMarker() {\n    return markers == null ? void 0 : markers.map(function (pin) {\n      var _pin$content;\n\n      return _jsx(Marker, {\n        coordinate: {\n          latitude: pin.coords._lat,\n          longitude: pin.coords._long\n        },\n        title: pin.title,\n        description: (_pin$content = pin.content) == null ? void 0 : _pin$content.inputText,\n        children: pin.gif ? _jsx(Image, {\n          style: styles.pin,\n          source: {\n            uri: Gifs[pin.gif]\n          }\n        }) : null\n      }, pin.id);\n    });\n  };\n\n  var text = \"Waiting...\";\n  var lat;\n  var lon;\n\n  if (errorMsg) {\n    text = errorMsg;\n  } else if (location) {\n    lat = location.coords.latitude;\n    lon = location.coords.longitude;\n  }\n\n  var showDialog = function showDialog() {\n    setIsVis(!isVis);\n  };\n\n  var sendInput = function () {\n    var _ref2 = _asyncToGenerator(function* (title, inputText, value, gif, date) {\n      console.log(title, inputText);\n\n      if (!eventValue) {\n        date = null;\n      }\n\n      yield addDoc(locationCollectionRef, {\n        content: {\n          inputText: inputText\n        },\n        title: title,\n        category: value,\n        gif: gif,\n        date: date,\n        coords: new GeoPoint(location.coords.latitude, location.coords.longitude)\n      });\n      setMarked([].concat(_toConsumableArray(marked), [location.coords]));\n      setIsVis(!isVis);\n    });\n\n    return function sendInput(_x, _x2, _x3, _x4, _x5) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var settingDate = function settingDate(datepicker, selectedDate) {\n    setDate(selectedDate);\n  };\n\n  return _jsx(_Fragment, {\n    children: _jsxs(View, {\n      children: [!location ? _jsx(Text, {\n        style: {\n          textAlign: \"center\"\n        },\n        children: text\n      }) : _jsxs(View, {\n        style: styles.container,\n        children: [_jsx(Modal, {\n          visible: isVis,\n          children: _jsxs(View, {\n            style: {\n              flex: 1,\n              alignItems: \"center\",\n              justifyContent: \"center\",\n              height: 50\n            },\n            children: [_jsx(Text, {\n              style: styles.formLabel,\n              children: \" Location Form \"\n            }), _jsxs(View, {\n              children: [_jsx(TextInput, {\n                onChangeText: function onChangeText(text) {\n                  return setTitle(text);\n                },\n                placeholder: \"Enter Title\",\n                style: _objectSpread(_objectSpread({}, styles.inputStyle), {}, {\n                  height: 40\n                })\n              }), _jsx(TextInput, {\n                onChangeText: function onChangeText(text) {\n                  return setContent(text);\n                },\n                placeholder: \"Content\",\n                multiline: true,\n                numberOfLines: 4,\n                style: _objectSpread(_objectSpread({}, styles.inputStyle), {}, {\n                  height: 80\n                })\n              }), _jsx(DropDownPicker, {\n                open: open,\n                value: value,\n                items: items,\n                setOpen: setOpen,\n                setValue: setValue,\n                setItems: setItems,\n                style: styles.dropdown\n              }), _jsx(DropDownPicker, {\n                open: gifOpen,\n                value: gifValue,\n                items: gifItems,\n                setOpen: setGifOpen,\n                setValue: setGifValue,\n                setItems: setGifItems,\n                style: styles.dropdown\n              }), user === 'helper' ? _jsx(DropDownPicker, {\n                open: eventOpen,\n                value: eventValue,\n                items: eventItems,\n                setOpen: setEventOpen,\n                setValue: setEventValue,\n                setItems: setEventItems,\n                style: styles.dropdown\n              }) : null, eventValue ? _jsx(RNDateTimePicker, {\n                value: date,\n                onChange: settingDate,\n                mode: \"datetime\",\n                minimumDate: Date.now()\n              }) : null]\n            }), _jsxs(View, {\n              children: [_jsx(Button, {\n                title: \"Submit\",\n                onPress: function onPress() {\n                  return sendInput(title, content, value, gifValue, date);\n                }\n              }), _jsx(Button, {\n                title: \"Hide\",\n                onPress: function onPress() {\n                  return setIsVis(!isVis);\n                }\n              })]\n            })]\n          })\n        }), _jsxs(MapView, {\n          style: styles.map,\n          showsUserLocation: true,\n          initialRegion: {\n            latitude: lat,\n            longitude: lon,\n            latitudeDelta: 0.0922,\n            longitudeDelta: 0.0421\n          },\n          children: [!marked ? null : marked.map(function (mark, index) {\n            return _jsx(Marker, {\n              coordinate: {\n                latitude: mark.latitude,\n                longitude: mark.longitude\n              }\n            }, index);\n          }), mapMarker(), post ? post.map(function (item, index) {\n            return _jsxs(Marker, {\n              keyExtractor: item.email,\n              coordinate: item.location,\n              title: item.username,\n              description: item.description,\n              children: [_jsx(MaterialCommunityIcons, {\n                name: item.role === \"Student\" ? \"heart\" : \"account\",\n                color: item.role === \"Student\" ? \"red\" : \"blue\",\n                size: 25\n              }), _jsx(Callout, {\n                tooltip: true,\n                style: styles.box,\n                children: _jsx(View, {\n                  children: _jsxs(View, {\n                    style: styles.bubble,\n                    children: [_jsx(Text, {\n                      children: item.description\n                    }), _jsx(TouchableOpacity, {\n                      onPress: function onPress() {\n                        return navigation.navigate(\"SinglePost\", {\n                          item: item\n                        });\n                      },\n                      children: _jsx(Text, {\n                        style: styles.buttonOutLineText,\n                        children: \"View Detail\"\n                      })\n                    })]\n                  })\n                })\n              })]\n            }, index);\n          }) : null, _jsx(TouchableOpacity, {\n            style: styles.Btn,\n            onPress: function onPress() {\n              return setIsVis(!isVis);\n            }\n          })]\n        })]\n      }), _jsx(StatusBar, {\n        style: \"auto\"\n      })]\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  map: {\n    width: Dimensions.get(\"window\").width,\n    height: Dimensions.get(\"window\").height\n  },\n  carousel: {\n    position: \"absolute\",\n    zIndex: 10,\n    bottom: 0,\n    marginBottom: 48\n  },\n  pin: {\n    width: 40,\n    height: 40,\n    borderTopRightRadius: 400,\n    borderBottomLeftRadius: 400,\n    borderBottomRightRadius: 400,\n    borderTopLeftRadius: 400\n  },\n  bubble: {\n    backgroundColor: \"white\"\n  },\n  box: {\n    width: 90\n  },\n  Btn: {\n    position: \"absolute\",\n    zIndex: 10,\n    width: 40,\n    height: 40,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: 10,\n    borderRadius: 40,\n    backgroundColor: \"orange\",\n    alignSelf: \"flex-end\",\n    marginTop: -5,\n    top: 10,\n    right: 10\n  },\n  viewWrap: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"rgba(0,0,0,0.2)\"\n  },\n  textInput: {\n    width: \"80%\",\n    borderRadius: 5,\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n    borderColor: \"rgba(0, 0, 0, 0.2)\",\n    borderWidth: 1,\n    marginBottom: 8\n  },\n  screen: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"#fff\"\n  },\n  formLabel: {\n    fontSize: 20,\n    color: \"black\"\n  },\n  inputStyle: {\n    marginTop: 20,\n    width: 300,\n    paddingHorizontal: 10,\n    borderRadius: 10,\n    backgroundColor: \"#DCDCDC\"\n  },\n  dropdown: {\n    marginTop: 20,\n    width: 300,\n    paddingHorizontal: 10,\n    borderRadius: 10,\n    backgroundColor: \"#DCDCDC\"\n  }\n});\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    getPost: function getPost(post) {\n      return dispatch(get_Post(post));\n    }\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(MapScreen);","map":{"version":3,"names":["StatusBar","React","MapView","Marker","Callout","Location","db","auth","collection","query","where","doc","addDoc","deleteDoc","GeoPoint","onSnapshot","useNavigation","MaterialCommunityIcons","connect","get_Post","DropDownPicker","DateTimePicker","Gifs","RNDateTimePicker","Dimensions","get","width","height","CARD_HEIGHT","CARD_WIDTH","MapScreen","props","navigation","useState","markers","setMarkers","location","setLocation","errorMsg","setErrorMsg","marked","setMarked","post","setPost","isVis","setIsVis","title","setTitle","content","setContent","open","setOpen","gifOpen","setGifOpen","eventOpen","setEventOpen","value","setValue","gifValue","setGifValue","eventValue","setEventValue","label","items","setItems","gifs","key","push","gifItems","setGifItems","eventItems","setEventItems","Date","date","setDate","user","setUser","colRef","locationCollectionRef","useEffect","requestForegroundPermissionsAsync","status","getCurrentPositionAsync","snapshot","docs","map","docu","data","seconds","now","console","log","id","currentUser","uid","role","mapMarker","pin","latitude","coords","_lat","longitude","_long","inputText","gif","styles","uri","text","lat","lon","showDialog","sendInput","category","settingDate","datepicker","selectedDate","textAlign","container","flex","alignItems","justifyContent","formLabel","inputStyle","dropdown","latitudeDelta","longitudeDelta","mark","index","item","email","username","description","box","bubble","navigate","buttonOutLineText","Btn","StyleSheet","create","carousel","position","zIndex","bottom","marginBottom","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","backgroundColor","padding","borderRadius","alignSelf","marginTop","top","right","viewWrap","textInput","paddingVertical","paddingHorizontal","borderColor","borderWidth","screen","fontSize","color","mapDispatchToProps","dispatch","getPost"],"sources":["C:/Users/16476/Documents/GitHub/Haven/screens/Map.js"],"sourcesContent":["import { StatusBar } from \"expo-status-bar\";\r\nimport * as React from \"react\";\r\nimport MapView, { Marker, Callout } from \"react-native-maps\";\r\nimport {\r\n  Dimensions,\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  Image,\r\n  TouchableOpacity,\r\n  Button,\r\n  TextInput,\r\n  Modal,\r\n} from \"react-native\";\r\nimport * as Location from \"expo-location\";\r\nimport { db } from \"../firebase\";\r\nimport { auth } from \"../firebase\";\r\nimport {\r\n  collection,\r\n  query,\r\n  where,\r\n  doc,\r\n  addDoc,\r\n  deleteDoc,\r\n  GeoPoint,\r\n  onSnapshot,\r\n} from \"firebase/firestore\";\r\nimport { useNavigation } from \"@react-navigation/core\";\r\nimport MaterialCommunityIcons from \"react-native-vector-icons/MaterialCommunityIcons\";\r\nimport { connect } from \"react-redux\";\r\nimport { get_Post } from \"../redux\";\r\nimport DropDownPicker from \"react-native-dropdown-picker\";\r\nimport DateTimePicker from '@react-native-community/datetimepicker'\r\n\r\nimport Gifs from \"../gifs/gifs\";\r\nimport RNDateTimePicker from \"@react-native-community/datetimepicker\";\r\n\r\nconst { width, height } = Dimensions.get(\"window\");\r\nconst CARD_HEIGHT = 220;\r\nconst CARD_WIDTH = width * 0.8;\r\n\r\nconst MapScreen = (props) => {\r\n  const navigation = useNavigation();\r\n  const [markers, setMarkers] = React.useState([]);\r\n  const [location, setLocation] = React.useState(null);\r\n  const [errorMsg, setErrorMsg] = React.useState(null);\r\n  const [marked, setMarked] = React.useState([]);\r\n  const [post, setPost] = React.useState([]);\r\n  const [isVis, setIsVis] = React.useState(false);\r\n  const [title, setTitle] = React.useState(\"\");\r\n  const [content, setContent] = React.useState(\"\");\r\n  const [open, setOpen] = React.useState(false);\r\n  const [gifOpen, setGifOpen] = React.useState(false)\r\n  const [eventOpen, setEventOpen] = React.useState(false)\r\n  const [value, setValue] = React.useState(null);\r\n  const [gifValue, setGifValue] = React.useState(null)\r\n  const [eventValue, setEventValue] = React.useState(false)\r\n  const [items, setItems] = React.useState([\r\n    { label: \"Food\", value: \"food\" },\r\n    { label: \"Clothing\", value: \"clothing\" },\r\n    { label: \"Shelter\", value: \"shelter\" },\r\n    { label: \"Items\", value: \"items\" },\r\n  ]);\r\n  const gifs = []\r\n  for (let key in Gifs){\r\n    gifs.push({label: key, value: key})\r\n  }\r\n  const [gifItems, setGifItems] = React.useState(gifs)\r\n  const [eventItems, setEventItems] = React.useState([\r\n    {label: \"Is Event\", value: true},\r\n    {label: \"Is Location\", value: false}\r\n  ])\r\n  const [date, setDate] = React.useState(new Date())\r\n  const [user, setUser] = React.useState(null)\r\n\r\n  const colRef = collection(db, \"Post\");\r\n  const locationCollectionRef = collection(db, \"location\");\r\n\r\n  React.useEffect(() => {\r\n    (async () => {\r\n      let { status } = await Location.requestForegroundPermissionsAsync();\r\n      if (status !== \"granted\") {\r\n        setErrorMsg(\"Permission to access location was denied\");\r\n        return;\r\n      }\r\n      let location = await Location.getCurrentPositionAsync({});\r\n      setLocation(location);\r\n    })();\r\n  }, []);\r\n\r\n  React.useEffect(\r\n    () =>\r\n      onSnapshot(locationCollectionRef, (snapshot) =>\r\n        setMarkers(snapshot.docs.map((docu) => {\r\n        let date = docu.data().date\r\n        if (date && date.seconds < (Date.now() / 1000)){ //Events timer are stored in seconds, while Date.now is milliseconds\r\n          console.log(\"deleting event\")\r\n          deleteDoc(doc(db, 'location', docu.id))\r\n        }\r\n        return ({ ...docu.data(), id: docu.id })\r\n      }))\r\n      ),\r\n    []\r\n  );\r\n\r\n  React.useEffect(\r\n    () =>\r\n      onSnapshot(colRef, (snapshot) =>\r\n        setPost(snapshot.docs.map((doc) => ({ ...doc.data(), id: doc.id })))\r\n      ),\r\n    []\r\n  );\r\n  \r\n  React.useEffect(\r\n    () =>\r\n      onSnapshot(collection(db, \"users\"), where(\"uid\", \"==\", auth.currentUser?.uid), (snapshot) =>\r\n        console.log(snapshot.docs[0].data().role, snapshot.id)\r\n      ),\r\n    []\r\n  );\r\n\r\n  const mapMarker = () => {\r\n    return markers?.map((pin) => (\r\n      <Marker\r\n        key={pin.id}\r\n        coordinate={{ latitude: pin.coords._lat, longitude: pin.coords._long }}\r\n        title={pin.title}\r\n        description={pin.content?.inputText}\r\n      >\r\n      {pin.gif ? (<Image \r\n                  style={styles.pin}\r\n                  source={{uri: Gifs[pin.gif]}} />) : null}\r\n      </Marker>\r\n    ));\r\n  };\r\n\r\n  let text = \"Waiting...\";\r\n  let lat;\r\n  let lon;\r\n\r\n  if (errorMsg) {\r\n    text = errorMsg;\r\n  } else if (location) {\r\n    lat = location.coords.latitude;\r\n    lon = location.coords.longitude;\r\n  }\r\n\r\n  const showDialog = () => {\r\n    setIsVis(!isVis);\r\n  };\r\n\r\n  const sendInput = async (title, inputText, value, gif, date) => {\r\n    console.log(title, inputText);\r\n    if (!eventValue){\r\n      date = null\r\n    }\r\n    await addDoc(locationCollectionRef, {\r\n      content: { inputText },\r\n      title,\r\n      category: value,\r\n      gif,\r\n      date,\r\n      coords: new GeoPoint(location.coords.latitude, location.coords.longitude),\r\n    });\r\n    setMarked([...marked, location.coords]);\r\n    setIsVis(!isVis);\r\n  };\r\n\r\n  const settingDate = (datepicker,selectedDate) => {\r\n    setDate(selectedDate)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <View>\r\n        {!location ? (\r\n          <Text style={{ textAlign: \"center\" }}>{text}</Text>\r\n        ) : (\r\n          <View style={styles.container}>\r\n            <Modal visible={isVis}>\r\n              <View\r\n                style={{\r\n                  flex: 1,\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                  height: 50,\r\n                }}\r\n              >\r\n                <Text style={styles.formLabel}> Location Form </Text>\r\n                <View>\r\n                  <TextInput\r\n                    onChangeText={(text) => setTitle(text)}\r\n                    placeholder=\"Enter Title\"\r\n                    style={{ ...styles.inputStyle, height: 40 }}\r\n                  />\r\n                  <TextInput\r\n                    onChangeText={(text) => setContent(text)}\r\n                    placeholder=\"Content\"\r\n                    multiline\r\n                    numberOfLines={4}\r\n                    style={{ ...styles.inputStyle, height: 80 }}\r\n                  />\r\n                  <DropDownPicker\r\n                    open={open}\r\n                    value={value}\r\n                    items={items}\r\n                    setOpen={setOpen}\r\n                    setValue={setValue}\r\n                    setItems={setItems}\r\n                    style={styles.dropdown}\r\n                  />\r\n                  <DropDownPicker\r\n                    open={gifOpen}\r\n                    value={gifValue}\r\n                    items={gifItems}\r\n                    setOpen={setGifOpen}\r\n                    setValue={setGifValue}\r\n                    setItems={setGifItems}\r\n                    style={styles.dropdown}\r\n                  />\r\n                  {user === 'helper' ? \r\n                  (<DropDownPicker\r\n                    open={eventOpen}\r\n                    value={eventValue}\r\n                    items={eventItems}\r\n                    setOpen={setEventOpen}\r\n                    setValue={setEventValue}\r\n                    setItems={setEventItems}\r\n                    style={styles.dropdown}\r\n                  />)\r\n                  : null}\r\n                  {eventValue ?\r\n                    (<RNDateTimePicker value={date} onChange={settingDate} mode=\"datetime\" minimumDate={Date.now()}/>): null\r\n                  }   \r\n                </View>\r\n                <View>\r\n                  <Button\r\n                    title=\"Submit\"\r\n                    onPress={() => sendInput(title, content, value, gifValue, date)}\r\n                  />\r\n                  <Button title=\"Hide\" onPress={() => setIsVis(!isVis)} />\r\n                </View>\r\n              </View>\r\n            </Modal>\r\n\r\n            <MapView\r\n              style={styles.map}\r\n              showsUserLocation={true}\r\n              initialRegion={{\r\n                latitude: lat,\r\n                longitude: lon,\r\n                latitudeDelta: 0.0922,\r\n                longitudeDelta: 0.0421,\r\n              }}\r\n            >\r\n              {/* loads marker on current location */}\r\n              {!marked\r\n                ? null\r\n                : marked.map((mark, index) => (\r\n                    <Marker\r\n                      key={index}\r\n                      coordinate={{\r\n                        latitude: mark.latitude,\r\n                        longitude: mark.longitude,\r\n                      }}\r\n                    />\r\n                  ))}\r\n\r\n              {/* loads markers saved in database */}\r\n              {mapMarker()}\r\n\r\n              {post\r\n                ? post.map((item, index) => (\r\n                    <Marker\r\n                      keyExtractor={item.email}\r\n                      coordinate={item.location}\r\n                      title={item.username}\r\n                      description={item.description}\r\n                      key={index}\r\n                    >\r\n                      <MaterialCommunityIcons\r\n                        name={item.role === \"Student\" ? \"heart\" : \"account\"}\r\n                        color={item.role === \"Student\" ? \"red\" : \"blue\"}\r\n                        size={25}\r\n                      />\r\n                      <Callout tooltip style={styles.box}>\r\n                        <View>\r\n                          <View style={styles.bubble}>\r\n                            <Text>{item.description}</Text>\r\n                            <TouchableOpacity\r\n                              onPress={() =>\r\n                                navigation.navigate(\"SinglePost\", { item })\r\n                              }\r\n                            >\r\n                              <Text style={styles.buttonOutLineText}>\r\n                                View Detail\r\n                              </Text>\r\n                            </TouchableOpacity>\r\n\r\n                            {/* <TouchableOpacity\r\n                      onPress={() => props.getPost(x)}\r\n                      >\r\n                      <Text style={styles.buttonOutLineText}>Updata</Text>\r\n                    </TouchableOpacity> */}\r\n                          </View>\r\n                        </View>\r\n                      </Callout>\r\n                    </Marker>\r\n                  ))\r\n                : null}\r\n              <TouchableOpacity\r\n                style={styles.Btn}\r\n                onPress={() => setIsVis(!isVis)}\r\n              ></TouchableOpacity>\r\n            </MapView>\r\n          </View>\r\n        )}\r\n        <StatusBar style=\"auto\" />\r\n      </View>\r\n    </>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  map: {\r\n    width: Dimensions.get(\"window\").width,\r\n    height: Dimensions.get(\"window\").height,\r\n  },\r\n  carousel: {\r\n    position: \"absolute\",\r\n    zIndex: 10,\r\n    bottom: 0,\r\n    marginBottom: 48,\r\n  },\r\n  pin: {\r\n    width: 40,\r\n    height: 40,\r\n    borderTopRightRadius: 400,\r\n    borderBottomLeftRadius: 400,\r\n    borderBottomRightRadius: 400,\r\n    borderTopLeftRadius: 400,\r\n  },\r\n  bubble: {\r\n    backgroundColor: \"white\",\r\n  },\r\n  box: {\r\n    width: 90,\r\n  },\r\n  Btn: {\r\n    position: \"absolute\",\r\n    zIndex: 10,\r\n    width: 40,\r\n    height: 40,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    padding: 10,\r\n    borderRadius: 40,\r\n    backgroundColor: \"orange\",\r\n    alignSelf: \"flex-end\",\r\n    marginTop: -5,\r\n    top: 10,\r\n    right: 10,\r\n  },\r\n  viewWrap: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    backgroundColor: \"rgba(0,0,0,0.2)\",\r\n  },\r\n  textInput: {\r\n    width: \"80%\",\r\n    borderRadius: 5,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 16,\r\n    borderColor: \"rgba(0, 0, 0, 0.2)\",\r\n    borderWidth: 1,\r\n    marginBottom: 8,\r\n  },\r\n  screen: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    backgroundColor: \"#fff\",\r\n  },\r\n  formLabel: {\r\n    fontSize: 20,\r\n    color: \"black\",\r\n  },\r\n  inputStyle: {\r\n    marginTop: 20,\r\n    width: 300,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 10,\r\n    backgroundColor: \"#DCDCDC\",\r\n  },\r\n  dropdown: {\r\n    marginTop: 20,\r\n    width: 300,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 10,\r\n    backgroundColor: \"#DCDCDC\",\r\n  },\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getPost: (post) => dispatch(get_Post(post)),\r\n});\r\n\r\nexport default connect(null, mapDispatchToProps)(MapScreen);\r\n"],"mappings":";;;;;;;;;AAAA,SAASA,SAAT,QAA0B,iBAA1B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAOC,OAAP,IAAkBC,MAAlB,EAA0BC,OAA1B,QAAyC,mBAAzC;;;;;;;;;;AAYA,OAAO,KAAKC,QAAZ,MAA0B,eAA1B;AACA,SAASC,EAAT;AACA,SAASC,IAAT;AACA,SACEC,UADF,EAEEC,KAFF,EAGEC,KAHF,EAIEC,GAJF,EAKEC,MALF,EAMEC,SANF,EAOEC,QAPF,EAQEC,UARF,QASO,oBATP;AAUA,SAASC,aAAT,QAA8B,wBAA9B;AACA,OAAOC,sBAAP;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT;AACA,OAAOC,cAAP,MAA2B,8BAA3B;AACA,OAAOC,cAAP,MAA2B,wCAA3B;AAEA,OAAOC,IAAP;AACA,OAAOC,gBAAP,MAA6B,wCAA7B;;;;;AAEA,sBAA0BC,UAAU,CAACC,GAAX,CAAe,QAAf,CAA1B;AAAA,IAAQC,KAAR,mBAAQA,KAAR;AAAA,IAAeC,MAAf,mBAAeA,MAAf;;AACA,IAAMC,WAAW,GAAG,GAApB;AACA,IAAMC,UAAU,GAAGH,KAAK,GAAG,GAA3B;;AAEA,IAAMI,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,EAAW;EAC3B,IAAMC,UAAU,GAAGhB,aAAa,EAAhC;;EACA,sBAA8Bf,KAAK,CAACgC,QAAN,CAAe,EAAf,CAA9B;EAAA;EAAA,IAAOC,OAAP;EAAA,IAAgBC,UAAhB;;EACA,uBAAgClC,KAAK,CAACgC,QAAN,CAAe,IAAf,CAAhC;EAAA;EAAA,IAAOG,QAAP;EAAA,IAAiBC,WAAjB;;EACA,uBAAgCpC,KAAK,CAACgC,QAAN,CAAe,IAAf,CAAhC;EAAA;EAAA,IAAOK,QAAP;EAAA,IAAiBC,WAAjB;;EACA,uBAA4BtC,KAAK,CAACgC,QAAN,CAAe,EAAf,CAA5B;EAAA;EAAA,IAAOO,MAAP;EAAA,IAAeC,SAAf;;EACA,uBAAwBxC,KAAK,CAACgC,QAAN,CAAe,EAAf,CAAxB;EAAA;EAAA,IAAOS,IAAP;EAAA,IAAaC,OAAb;;EACA,wBAA0B1C,KAAK,CAACgC,QAAN,CAAe,KAAf,CAA1B;EAAA;EAAA,IAAOW,KAAP;EAAA,IAAcC,QAAd;;EACA,wBAA0B5C,KAAK,CAACgC,QAAN,CAAe,EAAf,CAA1B;EAAA;EAAA,IAAOa,KAAP;EAAA,IAAcC,QAAd;;EACA,wBAA8B9C,KAAK,CAACgC,QAAN,CAAe,EAAf,CAA9B;EAAA;EAAA,IAAOe,OAAP;EAAA,IAAgBC,UAAhB;;EACA,wBAAwBhD,KAAK,CAACgC,QAAN,CAAe,KAAf,CAAxB;EAAA;EAAA,IAAOiB,IAAP;EAAA,IAAaC,OAAb;;EACA,wBAA8BlD,KAAK,CAACgC,QAAN,CAAe,KAAf,CAA9B;EAAA;EAAA,IAAOmB,OAAP;EAAA,IAAgBC,UAAhB;;EACA,wBAAkCpD,KAAK,CAACgC,QAAN,CAAe,KAAf,CAAlC;EAAA;EAAA,IAAOqB,SAAP;EAAA,IAAkBC,YAAlB;;EACA,wBAA0BtD,KAAK,CAACgC,QAAN,CAAe,IAAf,CAA1B;EAAA;EAAA,IAAOuB,KAAP;EAAA,IAAcC,QAAd;;EACA,wBAAgCxD,KAAK,CAACgC,QAAN,CAAe,IAAf,CAAhC;EAAA;EAAA,IAAOyB,QAAP;EAAA,IAAiBC,WAAjB;;EACA,wBAAoC1D,KAAK,CAACgC,QAAN,CAAe,KAAf,CAApC;EAAA;EAAA,IAAO2B,UAAP;EAAA,IAAmBC,aAAnB;;EACA,wBAA0B5D,KAAK,CAACgC,QAAN,CAAe,CACvC;IAAE6B,KAAK,EAAE,MAAT;IAAiBN,KAAK,EAAE;EAAxB,CADuC,EAEvC;IAAEM,KAAK,EAAE,UAAT;IAAqBN,KAAK,EAAE;EAA5B,CAFuC,EAGvC;IAAEM,KAAK,EAAE,SAAT;IAAoBN,KAAK,EAAE;EAA3B,CAHuC,EAIvC;IAAEM,KAAK,EAAE,OAAT;IAAkBN,KAAK,EAAE;EAAzB,CAJuC,CAAf,CAA1B;EAAA;EAAA,IAAOO,KAAP;EAAA,IAAcC,QAAd;;EAMA,IAAMC,IAAI,GAAG,EAAb;;EACA,KAAK,IAAIC,GAAT,IAAgB5C,IAAhB,EAAqB;IACnB2C,IAAI,CAACE,IAAL,CAAU;MAACL,KAAK,EAAEI,GAAR;MAAaV,KAAK,EAAEU;IAApB,CAAV;EACD;;EACD,wBAAgCjE,KAAK,CAACgC,QAAN,CAAegC,IAAf,CAAhC;EAAA;EAAA,IAAOG,QAAP;EAAA,IAAiBC,WAAjB;;EACA,wBAAoCpE,KAAK,CAACgC,QAAN,CAAe,CACjD;IAAC6B,KAAK,EAAE,UAAR;IAAoBN,KAAK,EAAE;EAA3B,CADiD,EAEjD;IAACM,KAAK,EAAE,aAAR;IAAuBN,KAAK,EAAE;EAA9B,CAFiD,CAAf,CAApC;EAAA;EAAA,IAAOc,UAAP;EAAA,IAAmBC,aAAnB;;EAIA,wBAAwBtE,KAAK,CAACgC,QAAN,CAAe,IAAIuC,IAAJ,EAAf,CAAxB;EAAA;EAAA,IAAOC,IAAP;EAAA,IAAaC,OAAb;;EACA,wBAAwBzE,KAAK,CAACgC,QAAN,CAAe,IAAf,CAAxB;EAAA;EAAA,IAAO0C,IAAP;EAAA,IAAaC,OAAb;;EAEA,IAAMC,MAAM,GAAGrE,UAAU,CAACF,EAAD,EAAK,MAAL,CAAzB;EACA,IAAMwE,qBAAqB,GAAGtE,UAAU,CAACF,EAAD,EAAK,UAAL,CAAxC;EAEAL,KAAK,CAAC8E,SAAN,CAAgB,YAAM;IACpB,kBAAC,aAAY;MACX,kCAAuB1E,QAAQ,CAAC2E,iCAAT,EAAvB;MAAA,IAAMC,MAAN,yBAAMA,MAAN;;MACA,IAAIA,MAAM,KAAK,SAAf,EAA0B;QACxB1C,WAAW,CAAC,0CAAD,CAAX;QACA;MACD;;MACD,IAAIH,QAAQ,SAAS/B,QAAQ,CAAC6E,uBAAT,CAAiC,EAAjC,CAArB;MACA7C,WAAW,CAACD,QAAD,CAAX;IACD,CARD;EASD,CAVD,EAUG,EAVH;EAYAnC,KAAK,CAAC8E,SAAN,CACE;IAAA,OACEhE,UAAU,CAAC+D,qBAAD,EAAwB,UAACK,QAAD;MAAA,OAChChD,UAAU,CAACgD,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,UAACC,IAAD,EAAU;QACvC,IAAIb,IAAI,GAAGa,IAAI,CAACC,IAAL,GAAYd,IAAvB;;QACA,IAAIA,IAAI,IAAIA,IAAI,CAACe,OAAL,GAAgBhB,IAAI,CAACiB,GAAL,KAAa,IAAzC,EAA+C;UAC7CC,OAAO,CAACC,GAAR,CAAY,gBAAZ;UACA9E,SAAS,CAACF,GAAG,CAACL,EAAD,EAAK,UAAL,EAAiBgF,IAAI,CAACM,EAAtB,CAAJ,CAAT;QACD;;QACD,uCAAaN,IAAI,CAACC,IAAL,EAAb;UAA0BK,EAAE,EAAEN,IAAI,CAACM;QAAnC;MACD,CAPY,CAAD,CADsB;IAAA,CAAxB,CADZ;EAAA,CADF,EAYE,EAZF;EAeA3F,KAAK,CAAC8E,SAAN,CACE;IAAA,OACEhE,UAAU,CAAC8D,MAAD,EAAS,UAACM,QAAD;MAAA,OACjBxC,OAAO,CAACwC,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,UAAC1E,GAAD;QAAA,uCAAeA,GAAG,CAAC4E,IAAJ,EAAf;UAA2BK,EAAE,EAAEjF,GAAG,CAACiF;QAAnC;MAAA,CAAlB,CAAD,CADU;IAAA,CAAT,CADZ;EAAA,CADF,EAKE,EALF;EAQA3F,KAAK,CAAC8E,SAAN,CACE;IAAA;;IAAA,OACEhE,UAAU,CAACP,UAAU,CAACF,EAAD,EAAK,OAAL,CAAX,EAA0BI,KAAK,CAAC,KAAD,EAAQ,IAAR,uBAAcH,IAAI,CAACsF,WAAnB,qBAAc,kBAAkBC,GAAhC,CAA/B,EAAqE,UAACX,QAAD;MAAA,OAC7EO,OAAO,CAACC,GAAR,CAAYR,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBG,IAAjB,GAAwBQ,IAApC,EAA0CZ,QAAQ,CAACS,EAAnD,CAD6E;IAAA,CAArE,CADZ;EAAA,CADF,EAKE,EALF;;EAQA,IAAMI,SAAS,GAAG,SAAZA,SAAY,GAAM;IACtB,OAAO9D,OAAP,oBAAOA,OAAO,CAAEmD,GAAT,CAAa,UAACY,GAAD;MAAA;;MAAA,OAClB,KAAC,MAAD;QAEE,UAAU,EAAE;UAAEC,QAAQ,EAAED,GAAG,CAACE,MAAJ,CAAWC,IAAvB;UAA6BC,SAAS,EAAEJ,GAAG,CAACE,MAAJ,CAAWG;QAAnD,CAFd;QAGE,KAAK,EAAEL,GAAG,CAACnD,KAHb;QAIE,WAAW,kBAAEmD,GAAG,CAACjD,OAAN,qBAAE,aAAauD,SAJ5B;QAAA,UAMCN,GAAG,CAACO,GAAJ,GAAW,KAAC,KAAD;UACA,KAAK,EAAEC,MAAM,CAACR,GADd;UAEA,MAAM,EAAE;YAACS,GAAG,EAAEpF,IAAI,CAAC2E,GAAG,CAACO,GAAL;UAAV;QAFR,EAAX,GAE+C;MARhD,GACOP,GAAG,CAACL,EADX,CADkB;IAAA,CAAb,CAAP;EAYD,CAbD;;EAeA,IAAIe,IAAI,GAAG,YAAX;EACA,IAAIC,GAAJ;EACA,IAAIC,GAAJ;;EAEA,IAAIvE,QAAJ,EAAc;IACZqE,IAAI,GAAGrE,QAAP;EACD,CAFD,MAEO,IAAIF,QAAJ,EAAc;IACnBwE,GAAG,GAAGxE,QAAQ,CAAC+D,MAAT,CAAgBD,QAAtB;IACAW,GAAG,GAAGzE,QAAQ,CAAC+D,MAAT,CAAgBE,SAAtB;EACD;;EAED,IAAMS,UAAU,GAAG,SAAbA,UAAa,GAAM;IACvBjE,QAAQ,CAAC,CAACD,KAAF,CAAR;EACD,CAFD;;EAIA,IAAMmE,SAAS;IAAA,8BAAG,WAAOjE,KAAP,EAAcyD,SAAd,EAAyB/C,KAAzB,EAAgCgD,GAAhC,EAAqC/B,IAArC,EAA8C;MAC9DiB,OAAO,CAACC,GAAR,CAAY7C,KAAZ,EAAmByD,SAAnB;;MACA,IAAI,CAAC3C,UAAL,EAAgB;QACda,IAAI,GAAG,IAAP;MACD;;MACD,MAAM7D,MAAM,CAACkE,qBAAD,EAAwB;QAClC9B,OAAO,EAAE;UAAEuD,SAAS,EAATA;QAAF,CADyB;QAElCzD,KAAK,EAALA,KAFkC;QAGlCkE,QAAQ,EAAExD,KAHwB;QAIlCgD,GAAG,EAAHA,GAJkC;QAKlC/B,IAAI,EAAJA,IALkC;QAMlC0B,MAAM,EAAE,IAAIrF,QAAJ,CAAasB,QAAQ,CAAC+D,MAAT,CAAgBD,QAA7B,EAAuC9D,QAAQ,CAAC+D,MAAT,CAAgBE,SAAvD;MAN0B,CAAxB,CAAZ;MAQA5D,SAAS,8BAAKD,MAAL,IAAaJ,QAAQ,CAAC+D,MAAtB,GAAT;MACAtD,QAAQ,CAAC,CAACD,KAAF,CAAR;IACD,CAfc;;IAAA,gBAATmE,SAAS;MAAA;IAAA;EAAA,GAAf;;EAiBA,IAAME,WAAW,GAAG,SAAdA,WAAc,CAACC,UAAD,EAAYC,YAAZ,EAA6B;IAC/CzC,OAAO,CAACyC,YAAD,CAAP;EACD,CAFD;;EAIA,OACE;IAAA,UACE,MAAC,IAAD;MAAA,WACG,CAAC/E,QAAD,GACC,KAAC,IAAD;QAAM,KAAK,EAAE;UAAEgF,SAAS,EAAE;QAAb,CAAb;QAAA,UAAuCT;MAAvC,EADD,GAGC,MAAC,IAAD;QAAM,KAAK,EAAEF,MAAM,CAACY,SAApB;QAAA,WACE,KAAC,KAAD;UAAO,OAAO,EAAEzE,KAAhB;UAAA,UACE,MAAC,IAAD;YACE,KAAK,EAAE;cACL0E,IAAI,EAAE,CADD;cAELC,UAAU,EAAE,QAFP;cAGLC,cAAc,EAAE,QAHX;cAIL7F,MAAM,EAAE;YAJH,CADT;YAAA,WAQE,KAAC,IAAD;cAAM,KAAK,EAAE8E,MAAM,CAACgB,SAApB;cAAA;YAAA,EARF,EASE,MAAC,IAAD;cAAA,WACE,KAAC,SAAD;gBACE,YAAY,EAAE,sBAACd,IAAD;kBAAA,OAAU5D,QAAQ,CAAC4D,IAAD,CAAlB;gBAAA,CADhB;gBAEE,WAAW,EAAC,aAFd;gBAGE,KAAK,kCAAOF,MAAM,CAACiB,UAAd;kBAA0B/F,MAAM,EAAE;gBAAlC;cAHP,EADF,EAME,KAAC,SAAD;gBACE,YAAY,EAAE,sBAACgF,IAAD;kBAAA,OAAU1D,UAAU,CAAC0D,IAAD,CAApB;gBAAA,CADhB;gBAEE,WAAW,EAAC,SAFd;gBAGE,SAAS,MAHX;gBAIE,aAAa,EAAE,CAJjB;gBAKE,KAAK,kCAAOF,MAAM,CAACiB,UAAd;kBAA0B/F,MAAM,EAAE;gBAAlC;cALP,EANF,EAaE,KAAC,cAAD;gBACE,IAAI,EAAEuB,IADR;gBAEE,KAAK,EAAEM,KAFT;gBAGE,KAAK,EAAEO,KAHT;gBAIE,OAAO,EAAEZ,OAJX;gBAKE,QAAQ,EAAEM,QALZ;gBAME,QAAQ,EAAEO,QANZ;gBAOE,KAAK,EAAEyC,MAAM,CAACkB;cAPhB,EAbF,EAsBE,KAAC,cAAD;gBACE,IAAI,EAAEvE,OADR;gBAEE,KAAK,EAAEM,QAFT;gBAGE,KAAK,EAAEU,QAHT;gBAIE,OAAO,EAAEf,UAJX;gBAKE,QAAQ,EAAEM,WALZ;gBAME,QAAQ,EAAEU,WANZ;gBAOE,KAAK,EAAEoC,MAAM,CAACkB;cAPhB,EAtBF,EA+BGhD,IAAI,KAAK,QAAT,GACA,KAAC,cAAD;gBACC,IAAI,EAAErB,SADP;gBAEC,KAAK,EAAEM,UAFR;gBAGC,KAAK,EAAEU,UAHR;gBAIC,OAAO,EAAEf,YAJV;gBAKC,QAAQ,EAAEM,aALX;gBAMC,QAAQ,EAAEU,aANX;gBAOC,KAAK,EAAEkC,MAAM,CAACkB;cAPf,EADA,GAUC,IAzCJ,EA0CG/D,UAAU,GACR,KAAC,gBAAD;gBAAkB,KAAK,EAAEa,IAAzB;gBAA+B,QAAQ,EAAEwC,WAAzC;gBAAsD,IAAI,EAAC,UAA3D;gBAAsE,WAAW,EAAEzC,IAAI,CAACiB,GAAL;cAAnF,EADQ,GAC2F,IA3CxG;YAAA,EATF,EAuDE,MAAC,IAAD;cAAA,WACE,KAAC,MAAD;gBACE,KAAK,EAAC,QADR;gBAEE,OAAO,EAAE;kBAAA,OAAMsB,SAAS,CAACjE,KAAD,EAAQE,OAAR,EAAiBQ,KAAjB,EAAwBE,QAAxB,EAAkCe,IAAlC,CAAf;gBAAA;cAFX,EADF,EAKE,KAAC,MAAD;gBAAQ,KAAK,EAAC,MAAd;gBAAqB,OAAO,EAAE;kBAAA,OAAM5B,QAAQ,CAAC,CAACD,KAAF,CAAd;gBAAA;cAA9B,EALF;YAAA,EAvDF;UAAA;QADF,EADF,EAmEE,MAAC,OAAD;UACE,KAAK,EAAE6D,MAAM,CAACpB,GADhB;UAEE,iBAAiB,EAAE,IAFrB;UAGE,aAAa,EAAE;YACba,QAAQ,EAAEU,GADG;YAEbP,SAAS,EAAEQ,GAFE;YAGbe,aAAa,EAAE,MAHF;YAIbC,cAAc,EAAE;UAJH,CAHjB;UAAA,WAWG,CAACrF,MAAD,GACG,IADH,GAEGA,MAAM,CAAC6C,GAAP,CAAW,UAACyC,IAAD,EAAOC,KAAP;YAAA,OACT,KAAC,MAAD;cAEE,UAAU,EAAE;gBACV7B,QAAQ,EAAE4B,IAAI,CAAC5B,QADL;gBAEVG,SAAS,EAAEyB,IAAI,CAACzB;cAFN;YAFd,GACO0B,KADP,CADS;UAAA,CAAX,CAbN,EAwBG/B,SAAS,EAxBZ,EA0BGtD,IAAI,GACDA,IAAI,CAAC2C,GAAL,CAAS,UAAC2C,IAAD,EAAOD,KAAP;YAAA,OACP,MAAC,MAAD;cACE,YAAY,EAAEC,IAAI,CAACC,KADrB;cAEE,UAAU,EAAED,IAAI,CAAC5F,QAFnB;cAGE,KAAK,EAAE4F,IAAI,CAACE,QAHd;cAIE,WAAW,EAAEF,IAAI,CAACG,WAJpB;cAAA,WAOE,KAAC,sBAAD;gBACE,IAAI,EAAEH,IAAI,CAACjC,IAAL,KAAc,SAAd,GAA0B,OAA1B,GAAoC,SAD5C;gBAEE,KAAK,EAAEiC,IAAI,CAACjC,IAAL,KAAc,SAAd,GAA0B,KAA1B,GAAkC,MAF3C;gBAGE,IAAI,EAAE;cAHR,EAPF,EAYE,KAAC,OAAD;gBAAS,OAAO,MAAhB;gBAAiB,KAAK,EAAEU,MAAM,CAAC2B,GAA/B;gBAAA,UACE,KAAC,IAAD;kBAAA,UACE,MAAC,IAAD;oBAAM,KAAK,EAAE3B,MAAM,CAAC4B,MAApB;oBAAA,WACE,KAAC,IAAD;sBAAA,UAAOL,IAAI,CAACG;oBAAZ,EADF,EAEE,KAAC,gBAAD;sBACE,OAAO,EAAE;wBAAA,OACPnG,UAAU,CAACsG,QAAX,CAAoB,YAApB,EAAkC;0BAAEN,IAAI,EAAJA;wBAAF,CAAlC,CADO;sBAAA,CADX;sBAAA,UAKE,KAAC,IAAD;wBAAM,KAAK,EAAEvB,MAAM,CAAC8B,iBAApB;wBAAA;sBAAA;oBALF,EAFF;kBAAA;gBADF;cADF,EAZF;YAAA,GAKOR,KALP,CADO;UAAA,CAAT,CADC,GAsCD,IAhEN,EAiEE,KAAC,gBAAD;YACE,KAAK,EAAEtB,MAAM,CAAC+B,GADhB;YAEE,OAAO,EAAE;cAAA,OAAM3F,QAAQ,CAAC,CAACD,KAAF,CAAd;YAAA;UAFX,EAjEF;QAAA,EAnEF;MAAA,EAJJ,EA+IE,KAAC,SAAD;QAAW,KAAK,EAAC;MAAjB,EA/IF;IAAA;EADF,EADF;AAqJD,CAxRD;;AA0RA,IAAM6D,MAAM,GAAGgC,UAAU,CAACC,MAAX,CAAkB;EAC/BrD,GAAG,EAAE;IACH3D,KAAK,EAAEF,UAAU,CAACC,GAAX,CAAe,QAAf,EAAyBC,KAD7B;IAEHC,MAAM,EAAEH,UAAU,CAACC,GAAX,CAAe,QAAf,EAAyBE;EAF9B,CAD0B;EAK/BgH,QAAQ,EAAE;IACRC,QAAQ,EAAE,UADF;IAERC,MAAM,EAAE,EAFA;IAGRC,MAAM,EAAE,CAHA;IAIRC,YAAY,EAAE;EAJN,CALqB;EAW/B9C,GAAG,EAAE;IACHvE,KAAK,EAAE,EADJ;IAEHC,MAAM,EAAE,EAFL;IAGHqH,oBAAoB,EAAE,GAHnB;IAIHC,sBAAsB,EAAE,GAJrB;IAKHC,uBAAuB,EAAE,GALtB;IAMHC,mBAAmB,EAAE;EANlB,CAX0B;EAmB/Bd,MAAM,EAAE;IACNe,eAAe,EAAE;EADX,CAnBuB;EAsB/BhB,GAAG,EAAE;IACH1G,KAAK,EAAE;EADJ,CAtB0B;EAyB/B8G,GAAG,EAAE;IACHI,QAAQ,EAAE,UADP;IAEHC,MAAM,EAAE,EAFL;IAGHnH,KAAK,EAAE,EAHJ;IAIHC,MAAM,EAAE,EAJL;IAKH6F,cAAc,EAAE,QALb;IAMHD,UAAU,EAAE,QANT;IAOH8B,OAAO,EAAE,EAPN;IAQHC,YAAY,EAAE,EARX;IASHF,eAAe,EAAE,QATd;IAUHG,SAAS,EAAE,UAVR;IAWHC,SAAS,EAAE,CAAC,CAXT;IAYHC,GAAG,EAAE,EAZF;IAaHC,KAAK,EAAE;EAbJ,CAzB0B;EAwC/BC,QAAQ,EAAE;IACRrC,IAAI,EAAE,CADE;IAERC,UAAU,EAAE,QAFJ;IAGRC,cAAc,EAAE,QAHR;IAIR4B,eAAe,EAAE;EAJT,CAxCqB;EA8C/BQ,SAAS,EAAE;IACTlI,KAAK,EAAE,KADE;IAET4H,YAAY,EAAE,CAFL;IAGTO,eAAe,EAAE,CAHR;IAITC,iBAAiB,EAAE,EAJV;IAKTC,WAAW,EAAE,oBALJ;IAMTC,WAAW,EAAE,CANJ;IAOTjB,YAAY,EAAE;EAPL,CA9CoB;EAuD/BkB,MAAM,EAAE;IACN3C,IAAI,EAAE,CADA;IAENC,UAAU,EAAE,QAFN;IAGNC,cAAc,EAAE,QAHV;IAIN4B,eAAe,EAAE;EAJX,CAvDuB;EA6D/B3B,SAAS,EAAE;IACTyC,QAAQ,EAAE,EADD;IAETC,KAAK,EAAE;EAFE,CA7DoB;EAiE/BzC,UAAU,EAAE;IACV8B,SAAS,EAAE,EADD;IAEV9H,KAAK,EAAE,GAFG;IAGVoI,iBAAiB,EAAE,EAHT;IAIVR,YAAY,EAAE,EAJJ;IAKVF,eAAe,EAAE;EALP,CAjEmB;EAwE/BzB,QAAQ,EAAE;IACR6B,SAAS,EAAE,EADH;IAER9H,KAAK,EAAE,GAFC;IAGRoI,iBAAiB,EAAE,EAHX;IAIRR,YAAY,EAAE,EAJN;IAKRF,eAAe,EAAE;EALT;AAxEqB,CAAlB,CAAf;;AAiFA,IAAMgB,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD;EAAA,OAAe;IACxCC,OAAO,EAAE,iBAAC5H,IAAD;MAAA,OAAU2H,QAAQ,CAAClJ,QAAQ,CAACuB,IAAD,CAAT,CAAlB;IAAA;EAD+B,CAAf;AAAA,CAA3B;;AAIA,eAAexB,OAAO,CAAC,IAAD,EAAOkJ,kBAAP,CAAP,CAAkCtI,SAAlC,CAAf"},"metadata":{},"sourceType":"module"}