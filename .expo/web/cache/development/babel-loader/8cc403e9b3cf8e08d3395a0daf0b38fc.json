{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport React, { useEffect, useState } from 'react';\nimport { auth } from \"../firebase\";\nimport { useNavigation } from '@react-navigation/core';\nimport { db } from \"../firebase\";\nimport { collection, onSnapshot, query, where, getDoc } from 'firebase/firestore';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar EditProfile = function EditProfile() {\n  console.log(navigation);\n  var navigation = useNavigation();\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      name = _useState4[0],\n      setName = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      role = _useState6[0],\n      setRole = _useState6[1];\n\n  var colRef = collection(db, 'users');\n  useEffect(function () {\n    var _auth$currentUser;\n\n    return onSnapshot(query(colRef, where('uid', '==', (_auth$currentUser = auth.currentUser) == null ? void 0 : _auth$currentUser.uid)), function (snapshot) {\n      console.log('Grabbing Profile data');\n      var user = snapshot.docs[0].data();\n      setEmail(user.email);\n      setName(user.name);\n      setRole(user.role);\n    });\n  }, []);\n\n  var Edit = function () {\n    var _ref = _asyncToGenerator(function* () {\n      var _auth$currentUser2;\n\n      var user = yield getDoc(query(colRef, where('uid', '==', (_auth$currentUser2 = auth.currentUser) == null ? void 0 : _auth$currentUser2.uid)));\n      user.update({\n        email: email,\n        name: name,\n        role: role\n      });\n    });\n\n    return function Edit() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return _jsxs(View, {\n    children: [_jsx(TextInput, {\n      style: styles.input,\n      onChangeText: function onChangeText(text) {\n        return setName(text);\n      }\n    }), _jsx(TextInput, {\n      style: styles.input,\n      onChangeText: function onChangeText(text) {\n        return setEmail(text);\n      }\n    }), _jsx(TextInput, {\n      style: styles.input,\n      onChangeText: function onChangeText(text) {\n        return setRole(text);\n      }\n    }), _jsx(TouchableOpacity, {\n      onPress: Edit,\n      style: [styles.button],\n      children: _jsx(Text, {\n        style: styles.buttonOutLineText,\n        children: \"Edit Profile\"\n      })\n    }), _jsx(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigation.navigate('Login');\n      },\n      style: [styles.button, styles.buttonOutline],\n      children: _jsx(Text, {\n        style: styles.buttonOutLineText,\n        children: \"Back\"\n      })\n    })]\n  });\n};\n\nexport default EditProfile;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  inputContainer: {\n    width: '80%'\n  },\n  input: {\n    backgroundColor: 'white',\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    borderRadius: 10,\n    marginTop: 5\n  },\n  buttonContainer: {\n    width: '60%',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 40\n  },\n  button: {\n    backgroundColor: '#0782F9',\n    width: '100%',\n    padding: 15,\n    borderRadius: 10,\n    alignItems: 'center'\n  },\n  buttonOutline: {\n    backgroundColor: 'white',\n    marginTop: 5,\n    borderColor: '#0782F9',\n    borderWidth: 2\n  },\n  buttonText: {\n    color: 'white',\n    fontWeight: '700',\n    fontSize: 16\n  },\n  buttonOutlineText: {\n    color: '#0782F9',\n    fontWeight: '700',\n    fontSize: 16\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","auth","useNavigation","db","collection","onSnapshot","query","where","getDoc","EditProfile","console","log","navigation","email","setEmail","name","setName","role","setRole","colRef","currentUser","uid","snapshot","user","docs","data","Edit","update","styles","input","text","button","buttonOutLineText","navigate","buttonOutline","StyleSheet","create","container","flex","justifyContent","alignItems","inputContainer","width","backgroundColor","paddingHorizontal","paddingVertical","borderRadius","marginTop","buttonContainer","padding","borderColor","borderWidth","buttonText","color","fontWeight","fontSize","buttonOutlineText"],"sources":["C:/Users/16476/Documents/GitHub/Haven/screens/EditProfile.js"],"sourcesContent":["import { StyleSheet, Text, View, TextInput, TouchableOpacity } from 'react-native'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { auth } from '../firebase'\r\nimport { useNavigation } from '@react-navigation/core'\r\nimport { db } from '../firebase'\r\nimport { collection, onSnapshot, query, where, getDoc} from 'firebase/firestore' \r\n\r\nconst EditProfile = () => {\r\n    console.log(navigation)\r\n    const navigation = useNavigation()\r\n    const [email, setEmail] = useState('')\r\n    const [name, setName] = useState('')\r\n    const [role, setRole] = useState('')\r\n    const colRef = collection(db, 'users')\r\n\r\n    useEffect(\r\n        () => \r\n            onSnapshot(query(colRef, where('uid', '==', auth.currentUser?.uid)), (snapshot) => {\r\n            console.log('Grabbing Profile data')\r\n            let user = snapshot.docs[0].data()\r\n            setEmail(user.email)\r\n            setName(user.name)\r\n            setRole(user.role)\r\n        })\r\n    ,[])\r\n\r\n    const Edit = async () => {\r\n        let user = await getDoc(query(colRef, where('uid', '==', auth.currentUser?.uid)))\r\n        user.update({email, name, role})\r\n    }\r\n\r\n  return (\r\n    <View>\r\n        <TextInput style={styles.input} onChangeText={text => setName(text)} />\r\n        <TextInput style={styles.input} onChangeText={text => setEmail(text)} />\r\n        <TextInput style={styles.input} onChangeText={text => setRole(text)}/>\r\n\r\n        <TouchableOpacity\r\n            onPress={Edit}\r\n            style={[styles.button]}\r\n        >\r\n            <Text style={styles.buttonOutLineText}>Edit Profile</Text>\r\n        </TouchableOpacity>\r\n\r\n        <TouchableOpacity\r\n            onPress={() => navigation.navigate('Login')}\r\n            style={[styles.button, styles.buttonOutline]}\r\n        >\r\n            <Text style={styles.buttonOutLineText}>Back</Text>\r\n        </TouchableOpacity>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default EditProfile\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n    },\r\n    inputContainer: {\r\n      width: '80%'\r\n    },\r\n    input: {\r\n      backgroundColor: 'white',\r\n      paddingHorizontal: 15,\r\n      paddingVertical: 10,\r\n      borderRadius: 10,\r\n      marginTop: 5,\r\n    },\r\n    buttonContainer: {\r\n      width: '60%',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      marginTop: 40,\r\n    },\r\n    button: {\r\n      backgroundColor: '#0782F9',\r\n      width: '100%',\r\n      padding: 15,\r\n      borderRadius: 10,\r\n      alignItems: 'center',\r\n    },\r\n    buttonOutline: {\r\n      backgroundColor: 'white',\r\n      marginTop: 5,\r\n      borderColor: '#0782F9',\r\n      borderWidth: 2,\r\n    },\r\n    buttonText: {\r\n      color: 'white',\r\n      fontWeight: '700',\r\n      fontSize: 16,\r\n    },\r\n    buttonOutlineText: {\r\n      color: '#0782F9',\r\n      fontWeight: '700',\r\n      fontSize: 16,\r\n    },\r\n  })"],"mappings":"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"},"metadata":{},"sourceType":"module"}