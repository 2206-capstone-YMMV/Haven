{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { signOut } from 'firebase/auth';\nimport { auth } from \"../firebase\";\nimport { db } from \"../firebase\";\nimport { collection, onSnapshot, query, where } from 'firebase/firestore';\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function Profile(_ref) {\n  var navigation = _ref.navigation;\n\n  var handleSignOut = function handleSignOut() {\n    signOut(auth).then(function () {\n      navigation.navigate('Login');\n    });\n  };\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      profile = _useState2[0],\n      setProfile = _useState2[1];\n\n  useEffect(function () {\n    var _auth$currentUser;\n\n    return onSnapshot(query(collection(db, 'users'), where('uid', '==', (_auth$currentUser = auth.currentUser) == null ? void 0 : _auth$currentUser.uid)), function (snapshot) {\n      return setProfile(snapshot.docs[0].data());\n    });\n  }, []);\n  return _jsxs(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    children: [_jsxs(Text, {\n      children: [\"Hello \", profile.name]\n    }), _jsxs(Text, {\n      children: [\"role: \", profile.role]\n    }), _jsxs(Text, {\n      children: [\"email: \", profile.email]\n    }), _jsx(Text, {\n      onPress: handleSignOut,\n      style: {\n        fontSize: 26,\n        fontWeight: \"bold\"\n      },\n      children: \"Sign Out\"\n    })]\n  });\n}","map":{"version":3,"names":["React","useEffect","useState","signOut","auth","db","collection","onSnapshot","query","where","Profile","navigation","handleSignOut","then","navigate","profile","setProfile","currentUser","uid","snapshot","docs","data","flex","alignItems","justifyContent","name","role","email","fontSize","fontWeight"],"sources":["C:/Users/16476/Documents/GitHub/Haven/screens/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Text, View } from \"react-native\";\r\nimport { signOut } from 'firebase/auth'\r\nimport { auth } from '../firebase'\r\nimport { db } from '../firebase'\r\nimport { collection, onSnapshot, query, where } from 'firebase/firestore' \r\n\r\nexport default function Profile({ navigation }) {\r\n    const handleSignOut = () => {\r\n        signOut(auth)\r\n        .then(() => {\r\n            navigation.navigate('Login')\r\n        })\r\n    }\r\n    const [profile, setProfile] = useState({})\r\n    useEffect(\r\n        () => \r\n            onSnapshot(query(collection(db, 'users'), where('uid', '==', auth.currentUser?.uid)), (snapshot) =>\r\n            setProfile(snapshot.docs[0].data())\r\n            )\r\n    ,[])\r\n\r\n    return (\r\n        <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center'}}>\r\n            <Text>Hello {profile.name}</Text>\r\n            <Text>role: {profile.role}</Text>\r\n            <Text>email: {profile.email}</Text>\r\n            <Text\r\n                onPress={handleSignOut}\r\n                style={{ fontSize: 26, fontWeight: \"bold\" }}\r\n            >\r\n                Sign Out\r\n            </Text>\r\n        </View>\r\n    )\r\n}"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;;AAEA,SAASC,OAAT,QAAwB,eAAxB;AACA,SAASC,IAAT;AACA,SAASC,EAAT;AACA,SAASC,UAAT,EAAqBC,UAArB,EAAiCC,KAAjC,EAAwCC,KAAxC,QAAqD,oBAArD;;;AAEA,eAAe,SAASC,OAAT,OAAiC;EAAA,IAAdC,UAAc,QAAdA,UAAc;;EAC5C,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;IACxBT,OAAO,CAACC,IAAD,CAAP,CACCS,IADD,CACM,YAAM;MACRF,UAAU,CAACG,QAAX,CAAoB,OAApB;IACH,CAHD;EAIH,CALD;;EAMA,gBAA8BZ,QAAQ,CAAC,EAAD,CAAtC;EAAA;EAAA,IAAOa,OAAP;EAAA,IAAgBC,UAAhB;;EACAf,SAAS,CACL;IAAA;;IAAA,OACIM,UAAU,CAACC,KAAK,CAACF,UAAU,CAACD,EAAD,EAAK,OAAL,CAAX,EAA0BI,KAAK,CAAC,KAAD,EAAQ,IAAR,uBAAcL,IAAI,CAACa,WAAnB,qBAAc,kBAAkBC,GAAhC,CAA/B,CAAN,EAA4E,UAACC,QAAD;MAAA,OACtFH,UAAU,CAACG,QAAQ,CAACC,IAAT,CAAc,CAAd,EAAiBC,IAAjB,EAAD,CAD4E;IAAA,CAA5E,CADd;EAAA,CADK,EAKR,EALQ,CAAT;EAOA,OACI,MAAC,IAAD;IAAM,KAAK,EAAE;MAAEC,IAAI,EAAE,CAAR;MAAWC,UAAU,EAAE,QAAvB;MAAiCC,cAAc,EAAE;IAAjD,CAAb;IAAA,WACI,MAAC,IAAD;MAAA,qBAAaT,OAAO,CAACU,IAArB;IAAA,EADJ,EAEI,MAAC,IAAD;MAAA,qBAAaV,OAAO,CAACW,IAArB;IAAA,EAFJ,EAGI,MAAC,IAAD;MAAA,sBAAcX,OAAO,CAACY,KAAtB;IAAA,EAHJ,EAII,KAAC,IAAD;MACI,OAAO,EAAEf,aADb;MAEI,KAAK,EAAE;QAAEgB,QAAQ,EAAE,EAAZ;QAAgBC,UAAU,EAAE;MAA5B,CAFX;MAAA;IAAA,EAJJ;EAAA,EADJ;AAaH"},"metadata":{},"sourceType":"module"}